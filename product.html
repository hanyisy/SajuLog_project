<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <script src="./resources/js/common.js"></script>
        <link rel="stylesheet" href="resources/css/font.css" type="text/css">
        <link rel="stylesheet" href="resources/css/product.css">
        <link rel="stylesheet" href="resources/css/mainpage.css" type="text/css">
        <title>충전하기-사주로그</title>
    </head>

    <body>
        <header></header>
        <section class="sticky_Bottom_Bar js_sticky_Bottom_Bar"> </section>
        <section class="product">
            <div class="inner">
                <div class="product_menu page_menu">
                    <button class="js_backBtn">
                        <img src="resources/img/product/tab.png" alt="화살표">
                    </button>
                    <h2>충전하기</h2>
                </div>

                <div class="product_con">
                    <div class="js_product_box">
                        <img src="resources/img/product/product01.webp" alt="배경">
                        <div class="product_tit_wrap">
                            <div class="product_tit">
                                <h2>사주</h2>
                                <h3>용하다고 소문난 사주</h3>
                            </div>
                            <h4>2,900원</h4>
                        </div>
                    </div>

                    <div class="js_product_box">
                        <img src="resources/img/product/product02.webp" alt="배경">
                        <div class="product_tit_wrap">
                            <div class="product_tit">
                                <h2>궁합</h2>
                                <h3>우리 궁합은 몇점?</h3>
                            </div>
                            <h4>2,900원</h4>
                        </div>
                    </div>

                    <div class="js_product_box">
                        <img src="resources/img/product/product03.webp" alt="배경">
                        <div class="product_tit_wrap">
                            <div class="product_tit">
                                <h2>운세</h2>
                                <h3>2026 신년 운세</h3>
                            </div>
                            <h4>2,900원</h4>
                        </div>
                    </div>
                </div>

                <div class="product_choice">
                    <div class="js_product_choice_box">신용/체크카드</div>
                    <div class="js_product_choice_box">계좌이체</div>
                    <div class="js_product_choice_box">카카오페이</div>
                </div>

                <div class="product_policy">
                    <input type="checkbox" id="policy" class="js_product_check" required checked>
                    <label for="policy">위 주문 내용을 확인했으며, 이용약관, 개인정보 이용 및 제공, 결제에 동의합니다.</label>
                </div>

                <button type="submit" class="js_product_btn">상품을 선택해주세요</button>

            </div>
        </section>

        <footer></footer>





        <script>
            document.addEventListener('DOMContentLoaded', () => {

                const productBoxes = document.querySelectorAll('.js_product_box');
                const choiceBoxes = document.querySelectorAll('.js_product_choice_box');
                const productBtn = document.querySelector('.js_product_btn');
                const productChoice = document.querySelector('.product_choice');

                let productSelected = false;

                // 상품 선택
                productBoxes.forEach(box => {
                    box.addEventListener('click', () => {

                        productBoxes.forEach(el => el.classList.remove('active'));
                        box.classList.add('active');

                        productChoice.style.display = 'block';

                        productBtn.textContent = '결제수단을 선택해주세요';

                        productBtn.classList.remove('active');
                        productBtn.classList.add('ready');

                        choiceBoxes.forEach(el => el.classList.remove('active'));

                        productSelected = true;
                    });
                });

                // 결제수단 선택
                choiceBoxes.forEach(box => {
                    box.addEventListener('click', () => {

                        if (!productSelected) return;

                        choiceBoxes.forEach(el => el.classList.remove('active'));
                        box.classList.add('active');

                        productBtn.textContent = '결제하기';

                        productBtn.classList.remove('ready');
                        productBtn.classList.add('active');
                    });
                });


                const policyCheck = document.querySelector('.js_product_check');

                productBtn.addEventListener('click', () => {

                    // 결제하기 상태가 아닐 경우 차단
                    if (!productBtn.classList.contains('active')) return;

                    // 약관 미동의
                    if (!policyCheck.checked) {
                        alert('이용약관에 동의해주세요!');
                        return;
                    }

                    // ✅ 여기서 실제 결제 로직 실행
                    console.log('결제 진행');
                });





            });


                        
            const backBtn = document.querySelector('.js_backBtn');

            if (backBtn) {
                backBtn.addEventListener('click', () => {
                    if (history.length > 1) {
                        history.back();
                    } else {
                        location.href = '/';
                    }
                });
            }




        </script>



    </body>
</html>